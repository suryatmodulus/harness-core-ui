/*
 * Copyright 2021 Harness Inc. All rights reserved.
 * Use of this source code is governed by the PolyForm Shield 1.0.0 license
 * that can be found in the licenses directory at the root of this repository, also available at
 * https://polyformproject.org/wp-content/uploads/2020/06/PolyForm-Shield-1.0.0.txt.
 */

import { calculateStartAndEndTimes } from '../Timeline.utils'

const Timestamps = [
  1628750040001, 1628750940001, 1628751840001, 1628752740001, 1628753640001, 1628754540001, 1628755440001,
  1628756340001, 1628757240001, 1628758140001, 1628759040001, 1628759940001, 1628760840001, 1628761740001,
  1628762640001, 1628763540001, 1628764440001, 1628765340001, 1628766240001, 1628767140001, 1628768040001,
  1628768940001, 1628769840001, 1628770740001, 1628771640001, 1628772540001, 1628773440001, 1628774340001,
  1628775240001, 1628776140001, 1628777040001, 1628777940001, 1628778840001, 1628779740001, 1628780640001,
  1628781540001, 1628782440001, 1628783340001, 1628784240001, 1628785140001, 1628786040001, 1628786940001,
  1628787840001, 1628788740001, 1628789640001, 1628790540001, 1628791440001, 1628792340001
]

describe('Unit tests for TimelineUtils', () => {
  test('Ensure calculateStartAndEndTimes works correctly', async () => {
    expect(calculateStartAndEndTimes(0.6, 0.8)).toBeUndefined
    expect(calculateStartAndEndTimes(0.1, 0.3, Timestamps)).toEqual([1628754270001, 1628762730001])
    expect(calculateStartAndEndTimes(0.9, 1, Timestamps)).toEqual([1628788110001, 1628792340001])
    expect(calculateStartAndEndTimes(0, 0.75, Timestamps)).toEqual([1628750040001, 1628781765001])
  })
})
